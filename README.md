<p align="center">
  <img width="13%" src="./.github/icon.svg">

  <h3 align="center"><b>Thumbnail generator</b></h3>
  <p align="center">Create thumbnails of a video in a simple and practical way</p>

  <img src="./.github/thumbnails-preview-02.gif">
</p>

<p align="center">
  <a href="#dependencies"><img src="https://shields.io/badge/-ğŸš§%20dependencies-ff5500"/></a>
  <a href="#install"><img src="https://shields.io/badge/-ğŸš€%20install-5cff43"/></a>
  <a href="#how-to-use"><img src="https://shields.io/badge/-ğŸ¤”%20how%20to%20use-4800d7"/></a>
  <a href="#recommendations"><img src="https://shields.io/badge/-ğŸ‘%20recomendations-aaffff"/></a>
  <a href="#features"><img src="https://shields.io/badge/-ğŸ›¸%20features-ffff7f"/></a>
  <a href="#format-support"><img src="https://shields.io/badge/-ğŸ“½ %20supported%20formats-ffff7f"/></a>
  <a href="#final"><img src="https://shields.io/badge/-ğŸ¥³%20expected%20result-ffffff"/></a>
  <br>
  <img alt="GitHub repo size" title="GitHub repo size" src="https://img.shields.io/github/repo-size/AntonioNarcilio/Generate-Thumbnails?color=50fa7b&labelColor=282a36&" />

  <a href="https://github.com/AntonioNarcilio/generate-thumbnails/blob/master/LICENSE">
    <img src="https://img.shields.io/github/license/AntonioNarcilio/Generate-Thumbnails?label=license&color=ff5555&labelColor=282a36" alt="licenÃ§a"/>
  </a>

  <img alt="GitHub last commit" title="GitHub last commit" src="https://img.shields.io/github/last-commit/AntonioNarcilio/Generate-Thumbnails?&color=50fa7b&labelColor=282a36" /> 
  <br><br>
  <a href="./docs/README_pt-BR.md">PortuguÃªs Brasileiro ğŸ‡§ğŸ‡·</a>
</p>


---

<br>
<h2 id="description"><b>ğŸ“ Description</b></h2>
<p align="justify">
 The development of this thumbnail generator was thinking about meeting a need I felt (or maybe yours) that not only found the generation of video thumbnails very practical, but also didn't like the final generated file.
 Searching quickly on the internet you will find several scripts or even applications like <a href="https://www.smplayer.info">SMPLAYER</a>, <a href="https://www.videolan.org">VLC</a> that generate thumbnails, but as I described before, the final file is not exactly what I want, as the file that contains the video thumbnails usually comes with information related to the resolution , size, frames...(<a href="./.github/smplayer_preview.png"> see the example </a>). Regarding the file generated by <b><i>SMPLAYER</i></b> in particular, I even developed a script that does the cropping process, removing what I don't want from the image, leaving only the video frames, but besides not being practical, because to generate a thumbnail, I need to open the video file in the program and select the option related to generating thumbnails (<i>I don't know if it has this option via the command line</i>), when trying to run this script on another machine, the expected result ends up not being exactly the same, because <b><i>SMPLAYER</i></b>, when adding the data referring to certain video information in the thumbnail, ends up using the system's default font, making the file different from the one expected , with a larger or smaller size; in case the system (<i>probably</i>) uses a different font than the one I used (in my system) when developing the clipping script. <br>

 Doing several researches and also as I already have a certain knowledge about the tools / technologies (<b><i>ImageMagick</i></b>, <b><i>FFmpeg</i></b> e <b><i>Kdialog</i></b>), i developed this thumbnail generation <a href="./generate_thumbnails">script</a>.
</p>

---

<br>
<h2 id="dependencies"><b>ğŸš§ Dependencies</b></h2>

Para que o script de geraÃ§Ã£o de miniaturas funcione conforme o esperado, antes vocÃª precisar ter as seguintes dependÃªncias instaladas em sua maquina.

<h3><a href="https://apps.kde.org/kdialog/"><b>Kdialog</b></a></h3>
<p align="justify"> 
  <b>Where is it used?</b> <br>
  Utilizado nas notificaÃ§Ãµes popup e em diÃ¡logos como:

  > ObtenÃ§Ã£o de senha de super usuÃ¡rio/administrador (utilizado no arquivo de instalaÃ§Ã£o);

  >Escolha da grade na geraÃ§Ã£o da miniatura;

  >Mostra mensagens (popup) contendo informaÃ§Ãµes sobre o processo de geraÃ§Ã£o das miniaturas ...
</p>

<p align="justify"> 
  <h4><b>How to install ?</b></h4>
  Primeiro verifique se vocÃª possui o kdialog instalado em sua maquina (se preferir o arquivo `install.sh` faz essa verificaÃ§Ã£o para vocÃª).
  
  ~~~bash
  kdialog --version
  ~~~
  
  > ğŸ’¡ Se retornar algo diferente `kdialog <numero_da_versao>` Ã© sinal que vocÃª nÃ£o tem tal dependÃªncia instalada em sua maquina se for o caso siga para o proximo passo.

  NÃ£o irei me aprofundar muito nessa questÃ£o pois existe "outras formas de se instalar tal" aplicaÃ§Ã£o, mais de forma bem sucinta execute no terminal um dos comandos:

  ##### Distros Debian
  ~~~bash
  sudo apt update
  ~~~
  ~~~bash
  sudo apt install kdialog -y
  ~~~
  >ou simplificando
  ~~~bash
  sudo apt update && sudo apt install kdialog -y
  ~~~  
  ##### Distro Arch Linux
  ~~~bash
  $ sudo pacman -Sy kdialog
  ~~~

  > ğŸ’¡ Para mais, clique no nome `kdialog` (em azul) lÃ¡ no inicio do tÃ³pico; onde vocÃª serÃ¡ redirecionado para a pagina oficial da aplicaÃ§Ã£o.
</p>

---

<h3><a href="https://www.ffmpeg.org/download.html"><b>FFmpeg</b></a></h3>
<p align="justify"> 
  <h4><b>Where is it used?</b></h4>   
  Utilizado na geraÃ§Ã£o das miniaturas (arquivos separados) em um intervalo de tempo...
</p>
<p align="justify"> 
  <h4><b>How to install ?</b></h4>
  Primeiro verifique se vocÃª possui o ffmpeg instalado em sua maquina (se preferir o arquivo `install.sh` faz essa verificaÃ§Ã£o para vocÃª).
  
  ~~~bash
  ffmpeg -version
  ~~~
  
  > ğŸ’¡ Se retornar algo diferente `ffmpeg version <numero_da_versao> Copyright ...` Ã© sinal que vocÃª nÃ£o tem tal dependÃªncia instalada em sua maquina se for o caso siga para o proximo passo.
  
  Conforme descrito no processo de instalaÃ§Ã£o do kdialog, faÃ§o a mesma citaÃ§Ã£o aqui [...] Execute no terminal um dos comandos:

  ##### Distros Debian
  ~~~bash
  sudo apt update
  ~~~
  ~~~bash
  sudo apt install ffmpeg -y
  ~~~
  > ou simplificando
  ~~~bash
  sudo apt update && sudo apt install ffmpeg -y
  ~~~  
  ##### Distro Arch Linux
  ~~~bash
  $ sudo pacman -Sy ffmpeg
  ~~~

  > ğŸ’¡ Para mais, clique no nome `FFmpeg` (em azul) lÃ¡ no inicio do tÃ³pico; onde vocÃª serÃ¡ redirecionado para a pagina oficial da aplicaÃ§Ã£o.
</p>

---

<h3><a href="https://imagemagick.org/script/download.php"><b>ImageMagick</b></a></h3>
<p align="justify"> 
  <h4><b>Where is it used?</b></h4>  
  O ImageMagick Ã© uma ferramenta de manipulaÃ§Ã£o de imagem via linha de comando poderosÃ­ssima. Aqui ele/ela Ã© utilizado na conversÃ£o das miniaturas separadas em um arquivo final (uniÃ£o dos arquivos) e otimizaÃ§Ã£o do mesmo.
</p>
<p align="justify"> 
  <h4><b>How to install ?</b></h4>
  Primeiro verifique se vocÃª possui o imagemagick instalado em sua maquina (se preferir o arquivo `install.sh` faz essa verificaÃ§Ã£o para vocÃª).

  ~~~bash
  convert --version
  ~~~
  
  > ğŸ’¡ Se retornar algo diferente `Version: ImageMagick  <numero_da_versao> Copyright ...` Ã© sinal que vocÃª nÃ£o tem tal dependÃªncia instalada em sua maquina se for o caso siga para o proximo passo.

  Conforme descrito nos dois processo de instalaÃ§Ã£o anteriormente, faÃ§o a mesma citaÃ§Ã£o aqui [...] Execute no terminal um dos comandos:

  ##### Distros Debian
  ~~~bash
  sudo apt update
  ~~~
  ~~~bash
  sudo apt install imagemagick -y
  ~~~
  > ou simplificando
  ~~~bash
  sudo apt update && sudo apt install imagemagick -y
  ~~~  
  ##### Distro Arch Linux
  ~~~bash
  $ sudo pacman -Sy imagemagick
  ~~~

  > ğŸ’¡ Para mais, clique no nome `ImageMagick` (em azul) lÃ¡ no inicio do tÃ³pico; onde vocÃª serÃ¡ redirecionado para a pagina oficial da aplicaÃ§Ã£o.
</p>


---

<br>
<h2 id="recommendations"><b>ğŸ‘ Recommendations</b></h2>
Recomendo utilizar o excelente gerenciador de arquivos <a href="https://apps.kde.org/dolphin/">dolphin</a>, pois atravÃ©s dele vocÃª poderÃ¡ utilizar o script via menu de contexto <a href="#how-to-use">veja mais</a> em como utilizar.

---

<br>
<h2 id="features"><b>ğŸ›¸ Features</b></h2>

- GeraÃ§Ã£o de miniaturas via linha de comando. [Veja como usar](#how-to-use).
- GeraÃ§Ã£o de miniaturas via menu de contexto no gerenciador de arquivos [dolphin](https://apps.kde.org/dolphin/). [Veja como usar](#how-to-use).
- OpÃ§Ã£o de escolha entre qual grade o arquivo final contendo as miniaturas terÃ¡. 

<br>
<h2 id="format-support"><b>ğŸ“½ Formatos de video identificados</b></h2>

  Por padrÃ£o os seguintes formatos sÃ£o identificados ao tentar gerar uma miniatura, via linha de comando (terminal) ou pelo gerenciador de arquivo dolphin.

  | ExtensÃµes |       | ExtensÃµes |
  |:---------:| :---: |:---------:|
  |  `.avi`   |   -   |  `.mp4`   |
  |  `.m4v`   |   -   |  `.mov`   |
  |  `.mpg`   |   -   |  `.mpeg`  |
  |  `.wmv`   |   -   |  `.mkv`   |
  |  `.ts`    |   -   |           |
  
  <br>

> ğŸ’¡ No gerenciador de arquivo dolphin por exemplo o "atalho" no menu de contexto so aparecerÃ¡ se vocÃª selecionar um video que tenha uma dessa extensÃµes especificadas acima. Leia mais em [como usar](#how-to-use)

---


<br>
<h2 id="install"><b>ğŸš€ Install</b></h2>

A instalaÃ§Ã£o Ã© algo bem simples, basta executar o script de instalaÃ§Ã£o ( `install.sh` ) que ele farÃ¡ o resto para vocÃª, mas antes se atente na configuraÃ§Ã£o inicial ğŸ‘‡.

<p align="justify"> 
  <h4><b>Initial setting</b></h4>
  Antes de executar o arquivo de instalaÃ§Ã£o <i>install.sh</i>, vocÃª precisa da permissÃ£o para execuÃ§Ã£o do mesmo. Existe duas formas de se fazer esse processo.

  1. Via gerenciador de arquivo (interface grÃ¡fica):
  Clique com o botÃ£o direito do mouse no arquivo `install.sh` selecione <kbd>propriedades</kbd> > <kbd>permissÃµes</kbd> marque a caixa de `Ã© executÃ¡vel`.<br><br>
      <img width="38%" src="./.github/is-executable.png" alt="is-executable" />

  2. Via linha de comando (terminal):

      ~~~bash
      chmod +x ./install.sh
      ~~~
</p>

 <p align="justify"> 
  <h4><b>How to use?</b></h4>
  Exite duas formas de se executar o script:<br>

  1. Via gerenciador de arquivo (interface grÃ¡fica):
  DÃª duplo clique no arquivo `install.sh`.<br><br>
      <img width="38%" src="./.github/run-script.png" alt="run-script" />

  2. Via linha de comando (terminal)
       ~~~bash
       ./install.sh
      ~~~

  ApÃ³s executar o arquivo `install.sh` um dialogo pedindo a senha de super usuÃ¡rio / administrador aparecerÃ¡, passe a senha para prosseguir com o processo de instalaÃ§Ã£o.<br><br>
  <img width="38%" alt="user-password" src="./.github/user-password.png" />

  O script irÃ¡ verificar se todas as dependÃªncias entÃ£o instaladas e caso o retorno sege positivo ele continuarÃ¡ com o processo de instalaÃ§Ã£o, se tudo ocorrer conforme o esperado um popup irÃ¡ aparecer informando que a instalaÃ§Ã£o foi bem sucedida.<br><br>
  <img width="38%" src="./.github/successfully-installed.png" alt="successfully-installed" />

 </p>

 <p align="justify"> 
  <h4><b>What does this script do ?</b></h4>
  Esse script serve para automatizar o processo de "instalaÃ§Ã£o" dos arquivos que o gerador de miniaturas utilizados/depende.
 </p>

 <p align="justify"> 
  <h4><b>What types of files will be installed ?</b></h4>
  Na verdade ele irÃ¡ copiar os seguintes arquivos todos encontrados no repositÃ³rio.

  ~~~
  .
  â”œâ”€â”€ emojis
  â”‚   â”œâ”€â”€ emoji_u1f389.svg
  â”‚   â”œâ”€â”€ emoji_u1f39e.svg
  â”‚   â”œâ”€â”€ emoji_u1f3ac.svg
  â”‚   â”œâ”€â”€ emoji_u1f5bc.svg
  â”‚   â”œâ”€â”€ emoji_u1f9d9_1f3fc_200d_2642.svg
  â”‚   â””â”€â”€ emoji_u1f9e9.svg
  â”œâ”€â”€ fonts
  â”‚   â””â”€â”€ Roboto-Regular.ttf
  â”œâ”€â”€ generate_thumbnails
  â”œâ”€â”€ generate-thumbnails.desktop
  â””â”€â”€ icons
      â”œâ”€â”€ an-alert.svg
      â”œâ”€â”€ an-edition.svg
      â”œâ”€â”€ an-effects.svg
      â”œâ”€â”€ an-error.svg
      â”œâ”€â”€ an-scripts.svg
      â””â”€â”€ an-utilities.svg
  ~~~

 </p>

 <p align="justify"> 
  <h4><b>Where will these files be copied to ?</b></h4>
  Os arquivo descritos anteriormente serÃ£o copiados para os respectivos diretÃ³rios:

  <kbd>usr</kbd> > <kbd>share</kbd> > <kbd>pixmaps</kbd>

  ~~~
  .
  â”œâ”€â”€ emojis
  â”‚   â”œâ”€â”€ emoji_u1f389.svg
  â”‚   â”œâ”€â”€ emoji_u1f39e.svg
  â”‚   â”œâ”€â”€ emoji_u1f3ac.svg
  â”‚   â”œâ”€â”€ emoji_u1f5bc.svg
  â”‚   â”œâ”€â”€ emoji_u1f9d9_1f3fc_200d_2642.svg
  â”‚   â””â”€â”€ emoji_u1f9e9.svg
  â””â”€â”€ icons
      â”œâ”€â”€ an-alert.svg
      â”œâ”€â”€ an-edition.svg
      â”œâ”€â”€ an-effects.svg
      â”œâ”€â”€ an-error.svg
      â”œâ”€â”€ an-scripts.svg
      â””â”€â”€ an-utilities.svg
  ~~~

  <kbd>usr</kbd> > <kbd>local</kbd> > <kbd>share</kbd> > <kbd>fonts</kbd> > <kbd>r</kbd>

  ~~~
  .
  â””â”€â”€ fonts
      â””â”€â”€ Roboto-Regular.ttf
  ~~~

  <kbd>usr</kbd> > <kbd>bin</kbd>

  ~~~
  .
  â””â”€â”€ generate_thumbnails
  ~~~

  <kbd>home</kbd> > <kbd>usuario</kbd> > <kbd>.local</kbd> > <kbd>share</kbd> > <kbd>kservices5</kbd> > <kbd>ServiceMenus</kbd>

  ~~~
  .
  â””â”€â”€ generate-thumbnails.desktop
  ~~~

 </p>

---

<br>
<h2 id="how-to-use"><b>ğŸ¤” How to use?</b></h2>
Existe duas formas de gerar miniaturas relacionadas a um video em especifico, ou via menu de contexto atravÃ©s do <a href="https://apps.kde.org/dolphin/">dolphin</a> ou via linha de comando (terminal).

<br>
<h4><b>Through the dolphin file manager</b></h4>

1. Clique com o botÃ£o direito do mouse no video que vocÃª deseja gerar a miniatura, no menu de contexto que abrir irÃ¡ aparecer uma opÃ§Ã£o chamada `Generate thumbnails` clique nela.<br><br>
    <img width="100%" src="./.github/dolphin-context-menu.png" alt="dolphin-context-menu" />

2. IrÃ¡ aparecer um dialogo perguntando se vocÃª deseja ou nÃ£o continuar com clique em sim (yes no meu caso).<br><br>
    <img width="38%" src="./.github/kdialog-yesno.png" alt="kdialog-yesno" />
  
3. Caso tudo ocorra conforme o esperado um popup ira aparecer informando que a miniatura foi gerada com sucesso e tambÃ©m o caminho onde ela foi salva ao clicar no link a imagem serÃ¡ aberta no visualizador de imagem padrÃ£o.<br><br>
    <img width="38%" src="./.github/kdialog-popup.png" alt="kdialog-popup" />

<br>
<h4><b>Through the command line (terminal)</b></h4>
Caso queira gerar as miniaturas via linha de comando basta executa o comando

~~~bash
$ generate_thumbnails "caminho/nome_do_arquivo_de_video"
~~~

<img width="80%" src="./.github/command-line-generate-thumbnails.png" alt="command-line-generate-thumbnails" />

---

<br>
<h2 id="final"><b>ğŸ¥³ Expected result</b></h2>
 <p align="justify"> 
 Os arquivos gerados durante o processo de criaÃ§Ã£o das miniaturas, sÃ£o salvos no diretÃ³rio: <br>
 <kbd>tmp</kbd> > <kbd>thumbnails-nome_do_arquivo-numero_aleatÃ³rio</kbd> (<b>removido ao reiniciar o sistema</b>)<br>
 JÃ¡ o arquivo final serÃ¡ salvo no mesmo diretÃ³rio no qual se encontra o video escolhido para gerar as miniaturas.

 |Grid|Final file|
 |:-------:|:-------:|
 | 4x4 |![](./.github/video-example-4x4-preview.png)|
 | 5x5 |![](./.github/video-example-5x5-preview.png)|
 | 6x6 |![](./.github/video-example-6x6-preview.png)|

 </p>

---

<br>
<h2 id="license"><b>ğŸ“œ License</b></h2>

This project is under license [MIT](./LICENSE)

---

<br><br>

<p align="center"> 
created by <a href="https://linkedin.com/in/antonionarcilio">@antonionarcilio</a>
</p>
