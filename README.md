<p align="center">
  <img width="13%" src="./.github/icon.svg">

  <h3 align="center"><b>Thumbnail generator</b></h3>
  <p align="center">Create thumbnails of a video in a simple and practical way</p>

  <img src="./.github/thumbnails-preview-02.gif">
</p>

<p align="center">
  <a href="#dependencies"><img src="https://shields.io/badge/-🚧%20dependencies-ff5500"/></a>
  <a href="#install"><img src="https://shields.io/badge/-🚀%20install-5cff43"/></a>
  <a href="#how-to-use"><img src="https://shields.io/badge/-🤔%20how%20to%20use-4800d7"/></a>
  <a href="#recommendations"><img src="https://shields.io/badge/-👍%20recomendations-aaffff"/></a>
  <a href="#features"><img src="https://shields.io/badge/-🛸%20features-ffff7f"/></a>
  <a href="#format-support"><img src="https://shields.io/badge/-📽 %20supported%20formats-ffff7f"/></a>
  <a href="#final"><img src="https://shields.io/badge/-🥳%20expected%20result-ffffff"/></a>
  <br>
  <img alt="GitHub repo size" title="GitHub repo size" src="https://img.shields.io/github/repo-size/AntonioNarcilio/Generate-Thumbnails?color=50fa7b&labelColor=282a36&" />

  <a href="https://github.com/AntonioNarcilio/generate-thumbnails/blob/master/LICENSE">
    <img src="https://img.shields.io/github/license/AntonioNarcilio/Generate-Thumbnails?label=license&color=ff5555&labelColor=282a36" alt="licença"/>
  </a>

  <img alt="GitHub last commit" title="GitHub last commit" src="https://img.shields.io/github/last-commit/AntonioNarcilio/Generate-Thumbnails?&color=50fa7b&labelColor=282a36" /> 
  <br><br>
  <a href="./docs/README_pt-BR.md">Português Brasileiro 🇧🇷</a>
</p>


---

<br>
<h2 id="description"><b>📝 Description</b></h2>
<p align="justify">
 The development of this thumbnail generator was thinking about meeting a need I felt (or maybe yours) that not only found the generation of video thumbnails very practical, but also didn't like the final generated file.
 Searching quickly on the internet you will find several scripts or even applications like <a href="https://www.smplayer.info">SMPLAYER</a>, <a href="https://www.videolan.org">VLC</a> that generate thumbnails, but as I described before, the final file is not exactly what I want, as the file that contains the video thumbnails usually comes with information related to the resolution , size, frames...(<a href="./.github/smplayer_preview.png"> see the example </a>). Regarding the file generated by <b><i>SMPLAYER</i></b> in particular, I even developed a script that does the cropping process, removing what I don't want from the image, leaving only the video frames, but besides not being practical, because to generate a thumbnail, I need to open the video file in the program and select the option related to generating thumbnails (<i>I don't know if it has this option via the command line</i>), when trying to run this script on another machine, the expected result ends up not being exactly the same, because <b><i>SMPLAYER</i></b>, when adding the data referring to certain video information in the thumbnail, ends up using the system's default font, making the file different from the one expected , with a larger or smaller size; in case the system (<i>probably</i>) uses a different font than the one I used (in my system) when developing the clipping script. <br>

 Doing several researches and also as I already have a certain knowledge about the tools / technologies (<b><i>ImageMagick</i></b>, <b><i>FFmpeg</i></b> e <b><i>Kdialog</i></b>), i developed this thumbnail generation <a href="./generate_thumbnails">script</a>.
</p>

---

<br>
<h2 id="dependencies"><b>🚧 Dependencies</b></h2>

In order for the thumbnail generation script to work as expected, you must first have the following dependencies installed on your machine.

<h3><a href="https://apps.kde.org/kdialog/"><b>Kdialog</b></a></h3>
<p align="justify"> 
  <b>Where is it used?</b> <br>
  Used in pop-up notifications and dialogs such as:

  > Get superuser/administrator password (only used in installation file).

  > Grid choice in thumbnail generation.

  > Show messages (pop-up) containing information about the thumbnail generation process...
</p>

<p align="justify"> 
  <h4><b>How to install ?</b></h4>
  
  First, make sure you have kdialog installed on your machine (if you prefer, the `install.sh` file does this check for you).
  
  ~~~bash
  kdialog --version
  ~~~
  
  > 💡 If returning something other than `kdialog <version_number>` is a sign that you don't have this dependency installed on your machine, if this is exactly your situation, continue with the brief installation process below.

  Briefly, run the following command in the terminal to install the dependency:

  ##### Distros Debian
  ~~~bash
  sudo apt update && sudo apt install kdialog -y
  ~~~  
  ##### Distro Arch Linux
  ~~~bash
  sudo pacman -Sy kdialog
  ~~~

  > 💡 For more, click on the name `kdialog` (in blue) there at the beginning of the thread; where you will be redirected to the app's official page.
</p>

---

<h3><a href="https://www.ffmpeg.org/download.html"><b>FFmpeg</b></a></h3>
<p align="justify"> 
  <h4><b>Where is it used?</b></h4>   
  Used to generate thumbnails (separate files) at a time interval...
</p>
<p align="justify"> 
  <h4><b>How to install ?</b></h4>

  First, make sure you have FFmpeg installed on your machine (if you prefer, the `install.sh` file does this check for you).
  
  ~~~bash
  ffmpeg -version
  ~~~
  
  > 💡 If returning something other than `ffmpeg version <numero_da_versao> Copyright ...` is a sign that you don't have this dependency installed on your machine, if this is exactly your situation, continue with the brief installation process below.
  
  Briefly, run the following command in the terminal to install the dependency:

  ##### Distros Debian
  ~~~bash
  sudo apt update && sudo apt install ffmpeg -y
  ~~~  
  ##### Distro Arch Linux
  ~~~bash
  sudo pacman -Sy ffmpeg
  ~~~

  > 💡 For more, click on the name `FFmpeg` (in blue) there at the beginning of the thread; where you will be redirected to the app's official page.
</p>

---

<h3><a href="https://imagemagick.org/script/download.php"><b>ImageMagick</b></a></h3>
<p align="justify"> 
  <h4><b>Where is it used?</b></h4>  
  ImageMagick is a very powerful command line image manipulation tool. Here, it is used to convert the separate thumbnails into a final file (join files) and optimize it.
</p>
<p align="justify"> 
  <h4><b>How to install ?</b></h4>
  First, make sure you have ImageMagick installed on your machine (if you prefer, the `install.sh` file does this check for you).

  ~~~bash
  convert --version
  ~~~
  
  > 💡 If returning something other than `Version: ImageMagick  <numero_da_versao> Copyright ...` is a sign that you don't have this dependency installed on your machine, if this is exactly your situation, continue with the brief installation process below.

  Briefly, run the following command in the terminal to install the dependency:

  ##### Distros Debian
  ~~~bash
  sudo apt update && sudo apt install imagemagick -y
  ~~~  
  ##### Distro Arch Linux
  ~~~bash
  sudo pacman -Sy imagemagick
  ~~~

  > 💡  For more, click on the name `ImageMagick` (in blue) there at the beginning of the thread; where you will be redirected to the app's official page.
</p>

---

<br>
<h2 id="recommendations"><b>👍 Recommendations</b></h2>
  I recommend using the excellent <a href="https://apps.kde.org/dolphin/"> dolphin </a> file manager, through it you can use the script via the context menu <a href="#how-to-use"> see more </a> on how to use it.

---

<br>
<h2 id="features"><b>🛸 Features</b></h2>

- Thumbnail generation via context menu in file manager [dolphin](https://apps.kde.org/dolphin/). [See how to use](#how-to-use).
- Thumbnail generation via command line. [See how to use](#how-to-use).
- Option to choose which structure will have the final file containing the thumbnails (4x4, 5x5, 6x6). 

<br>
<h2 id="format-support"><b>📽 Identified video formats</b></h2>

  By default, the following formats are identified when trying to generate a thumbnail, via the command line (terminal) or via the dolphin file manager.

  |Extensions |       |Extensions |
  |:---------:| :---: |:---------:|
  |  `.avi`   |   -   |  `.mp4`   |
  |  `.m4v`   |   -   |  `.mov`   |
  |  `.mpg`   |   -   |  `.mpeg`  |
  |  `.wmv`   |   -   |  `.mkv`   |
  |  `.ts`    |   -   |           |
  
  <br>

> 💡 In the dolphin file manager, for example, the "shortcut" in the context menu will only appear if you select a video that has one of the extensions specified above. Read more at, [how to use](#how-to-use)

---

<br>
<h2 id="install"><b>🚀 Install</b></h2>

  Installation is very simple, just run the install script (`install.sh`) and it will do the rest for you, but pay attention to the initial setup 👇.

<p align="justify"> 
  <h4><b>Initial setting</b></h4>
  Before running the installation file <i>install.sh</i>, you need permission to run it. There are two ways to go about this process.

  1. Via dolphin file manager (graphical interface):
  Right-click the `install.sh` file and select <kbd> properties </kbd>> <kbd> permissions </kbd> and check the `is executable` box. <br> <br>
      <img width="38%" src="./.github/is-executable.png" alt="is-executable" />

  2. Via command line (terminal):

      ~~~bash
      chmod +x ./install.sh
      ~~~
</p>

 <p align="justify"> 
  <h4><b>How to use?</b></h4>
  There are also two ways to run the script: <br>

  1. Via dolphin file manager (graphical interface):
  Double-click the `install.sh` file. <br> <br>
      <img width="38%" src="./.github/run-script.png" alt="run-script" />

  2. Via command line (terminal):
       ~~~bash
       ./install.sh
      ~~~

  Após executar o arquivo `install.sh` um dialogo pedindo a senha de super usuário / administrador aparecerá, passe a senha para prosseguir com o processo de instalação.<br><br>
  <img width="38%" alt="user-password" src="./.github/user-password.png" />

  O script irá verificar se todas as dependências então instaladas e caso o retorno sege positivo ele continuará com o processo de instalação, se tudo ocorrer conforme o esperado um popup irá aparecer informando que a instalação foi bem sucedida.<br><br>
  <img width="38%" src="./.github/successfully-installed.png" alt="successfully-installed" />

 </p>

 <p align="justify"> 
  <h4><b>What does this script do ?</b></h4>
  Esse script serve para automatizar o processo de "instalação" dos arquivos que o gerador de miniaturas utilizados/depende.
 </p>

 <p align="justify"> 
  <h4><b>What types of files will be installed ?</b></h4>
  Na verdade ele irá copiar os seguintes arquivos todos encontrados no repositório.

  ~~~
  .
  ├── emojis
  │   ├── emoji_u1f389.svg
  │   ├── emoji_u1f39e.svg
  │   ├── emoji_u1f3ac.svg
  │   ├── emoji_u1f5bc.svg
  │   ├── emoji_u1f9d9_1f3fc_200d_2642.svg
  │   └── emoji_u1f9e9.svg
  ├── fonts
  │   └── Roboto-Regular.ttf
  ├── generate_thumbnails
  ├── generate-thumbnails.desktop
  └── icons
      ├── an-alert.svg
      ├── an-edition.svg
      ├── an-effects.svg
      ├── an-error.svg
      ├── an-scripts.svg
      └── an-utilities.svg
  ~~~

 </p>

 <p align="justify"> 
  <h4><b>Where will these files be copied to ?</b></h4>
  Os arquivo descritos anteriormente serão copiados para os respectivos diretórios:

  <kbd>usr</kbd> > <kbd>share</kbd> > <kbd>pixmaps</kbd>

  ~~~
  .
  ├── emojis
  │   ├── emoji_u1f389.svg
  │   ├── emoji_u1f39e.svg
  │   ├── emoji_u1f3ac.svg
  │   ├── emoji_u1f5bc.svg
  │   ├── emoji_u1f9d9_1f3fc_200d_2642.svg
  │   └── emoji_u1f9e9.svg
  └── icons
      ├── an-alert.svg
      ├── an-edition.svg
      ├── an-effects.svg
      ├── an-error.svg
      ├── an-scripts.svg
      └── an-utilities.svg
  ~~~

  <kbd>usr</kbd> > <kbd>local</kbd> > <kbd>share</kbd> > <kbd>fonts</kbd> > <kbd>r</kbd>

  ~~~
  .
  └── fonts
      └── Roboto-Regular.ttf
  ~~~

  <kbd>usr</kbd> > <kbd>bin</kbd>

  ~~~
  .
  └── generate_thumbnails
  ~~~

  <kbd>home</kbd> > <kbd>usuario</kbd> > <kbd>.local</kbd> > <kbd>share</kbd> > <kbd>kservices5</kbd> > <kbd>ServiceMenus</kbd>

  ~~~
  .
  └── generate-thumbnails.desktop
  ~~~

 </p>

---

<br>
<h2 id="how-to-use"><b>🤔 How to use?</b></h2>
Existe duas formas de gerar miniaturas relacionadas a um video em especifico, ou via menu de contexto através do <a href="https://apps.kde.org/dolphin/">dolphin</a> ou via linha de comando (terminal).

<br>
<h4><b>Through the dolphin file manager</b></h4>

1. Clique com o botão direito do mouse no video que você deseja gerar a miniatura, no menu de contexto que abrir irá aparecer uma opção chamada `Generate thumbnails` clique nela.<br><br>
    <img width="100%" src="./.github/dolphin-context-menu.png" alt="dolphin-context-menu" />

2. Irá aparecer um dialogo perguntando se você deseja ou não continuar com clique em sim (yes no meu caso).<br><br>
    <img width="38%" src="./.github/kdialog-yesno.png" alt="kdialog-yesno" />
  
3. Caso tudo ocorra conforme o esperado um popup ira aparecer informando que a miniatura foi gerada com sucesso e também o caminho onde ela foi salva ao clicar no link a imagem será aberta no visualizador de imagem padrão.<br><br>
    <img width="38%" src="./.github/kdialog-popup.png" alt="kdialog-popup" />

<br>
<h4><b>Through the command line (terminal)</b></h4>
Caso queira gerar as miniaturas via linha de comando basta executa o comando

~~~bash
$ generate_thumbnails "caminho/nome_do_arquivo_de_video"
~~~

<img width="80%" src="./.github/command-line-generate-thumbnails.png" alt="command-line-generate-thumbnails" />

---

<br>
<h2 id="final"><b>🥳 Expected result</b></h2>
 <p align="justify"> 
 Os arquivos gerados durante o processo de criação das miniaturas, são salvos no diretório: <br>
 <kbd>tmp</kbd> > <kbd>thumbnails-nome_do_arquivo-numero_aleatório</kbd> (<b>removido ao reiniciar o sistema</b>)<br>
 Já o arquivo final será salvo no mesmo diretório no qual se encontra o video escolhido para gerar as miniaturas.

 |Grid|Final file|
 |:-------:|:-------:|
 | 4x4 |![](./.github/video-example-4x4-preview.png)|
 | 5x5 |![](./.github/video-example-5x5-preview.png)|
 | 6x6 |![](./.github/video-example-6x6-preview.png)|

 </p>

---

<br>
<h2 id="license"><b>📜 License</b></h2>

This project is under license [MIT](./LICENSE)

---

<br><br>

<p align="center"> 
created by <a href="https://linkedin.com/in/antonionarcilio">@antonionarcilio</a>
</p>
